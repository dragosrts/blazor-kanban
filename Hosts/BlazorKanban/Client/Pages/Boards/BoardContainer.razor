@page "/boards"
@using BlazorKanban.Client.Pages.Columns
@using BlazorKanban.Shared
@inject HttpClient Http


<h1>Boards</h1>
<p>This component demonstrates fetching data from the server.</p>

@if (board == null)
{
    <p><em>Loading...</em></p>
}
else
{
    @*@foreach (var board in board)
        {*@
    <div class="container-fluid pt-3">
        <div class="row flex-row flex-sm-nowrap py-3">

            @foreach (var column in board.Columns)
            {
                <ColumnContainer Column="column" />
            }

            <button class="btn btn-primary btn-sm">Add Column</button>
        </div>
    </div>

    @*}*@
}

@code {
    private Board board;

    protected override async Task OnInitializedAsync()
    {
        board = await Http.GetFromJsonAsync<Board>("api/taskboards/5f2c15d77a65952d71665819");
    }
}